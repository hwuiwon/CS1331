<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Homework 3 - Vending Machine</title>
  <meta name="viewport" content="width=device-width">

  <!-- syntax highlighting CSS -->
  <link rel="stylesheet" href="../../../css/syntax.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="../../../css/main.css">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="../../../css/bootstrap.min.css">

  <!-- Custom styles for this template -->
  <link href="css/navbar-fixed-top.css" rel="stylesheet">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->

       <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>

    </head>
    <body>

      <div class="container">
      <h1 id="vending-machines">Vending Machines</h1>

<h2 id="introduction">Introduction</h2>

<p>It’s the year 2021, and you have graduated from Georgia Tech. Your first real job is with Coca-Cola, who is trying to spearhead the vending machine market by developing specialized vending machines for college campuses. The first models will be placed in the CULC and CoC, and are catered specifically to Tech students. Since you have experience with the student body, you have been tasked with writing the software. However, Coke wants to make sure that their product will be an overwhelming success. For that reason, you will first write a simulator for the machine to test the functionality.</p>

<h2 id="problem-description">Problem Description</h2>

<p>You will be writing classes that represent various parts of a vending machine. You will need to write two files: <code class="highlighter-rouge">VendingMachine.java</code> and <code class="highlighter-rouge">VendingItem.java</code>. A simple driver class <a href="VendingWorld.java">VendingWorld.java</a> has been provided, and it will allow you to interact with your simulation within the commandline/terminal. Specific instructions for each file are given in later sections.</p>

<h2 id="background">Background</h2>

<p>This section contains some helpful information about material that appears on this homework. If you are more experienced with Java, you may already know everything here. However, we still suggest reading this section to make sure all the techniques are clear.</p>

<h3 id="enums">Enums</h3>

<p>An enum is a special class that has a set of predefined instances. An enum is an enumerated type, and each possible value has an associated numeric value. Enums are used when you have a small set of possible values that you want to represent with a convenient syntax. For example, instead of having an <code class="highlighter-rouge">int</code> (or <code class="highlighter-rouge">String</code>) representing colors where some value stands for red, some value for green, and some value for blue, you could have the following enum type:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public enum Color {
    RED, GREEN, BLUE;
}

// in other parts of the code...

if (color == Color.RED || color == Color.BLUE) {...}

</code></pre></div></div>

<p>Another feature of enums is the ability to given them properties. For this assignment, you will need to use an enum of vending items that also records each item’s price. If you don’t remember how to give an enum properties, take a look at <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html">the oracle tutorials.</a> For our situation, we are using an enum in almost exactly the same way you would use a class.</p>

<h3 id="random">Random</h3>

<p>The Random class is used to generate numbers in a certain range. After importing <code class="highlighter-rouge">java.util.Random</code>, you must create a new Random object. For example, <code class="highlighter-rouge">Random rand = new Random()</code>. In order to generate random integers in a certain range, take note of <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-">the nextInt() method</a>. Remember that the argument is exclusive, which means that it is 1 larger than the maximum value the method will generate. This might seem counter intuitive, but it gives us a useful rule. Given a call like <code class="highlighter-rouge">rand.nextInt(5)</code>, we know that exactly 5 values (that is , <code class="highlighter-rouge">0, 1, 2, 3, and 4</code>) can be generated.</p>

<p>There are two very common techniques involving random numbers that you will need to use in this homework. The first is generating random integers in a range that does not start at 0. Imagine you want to generate numbers ranging from 5 to 10, inclusive on both ends (i.e, the numbers <code class="highlighter-rouge">5, 6, 7, 8, 9, 10</code>). Since there are six possible values, we need the parameter of <code class="highlighter-rouge">nextInt()</code> to be 6. However, we also want the smallest number to be 5 (instead of 0). To accomplish this, we can simply add 5 to the random value. This suggests the following formula for generating random integers between <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">b</code>, inclusive: <code class="highlighter-rouge">int n = rand.nextInt(b - a + 1) + a</code>.</p>

<p>The second technique is using random numbers to generate a percent chance for an event. For example, you might want something to have a 25% chance of happening on each iteration through a loop. In that case, you could do something like:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if (rand.nextInt(4) == 0) {
    // do something...
}
</code></pre></div></div>

<p>For more complicated percentages, like 30%, you can think of the percent as a fraction where the numerator and denominator are both whole numbers (for example <code class="highlighter-rouge">30 / 100</code>). Then, you can generate numbers in the range of the denominator, and compare them against the numerator. To have an event with a 30% chance of happening, you could write:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if (rand.nextInt(100) &lt; 30) {
    // event happens
} else {
    // event doesn't happen
}
</code></pre></div></div>

<h2 id="solution-description">Solution Description</h2>

<h3 id="vendingitemjava-enum">VendingItem.java (enum)</h3>

<p>Instances of this enum will represent items in your vending machine. Your boss at Coke has done extensive analysis and determined that the following items and prices are ideal for Georgia Tech students:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Item</th>
      <th style="text-align: right">Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Lays</td>
      <td style="text-align: right">$1.50</td>
    </tr>
    <tr>
      <td style="text-align: left">Doritos</td>
      <td style="text-align: right">$1.50</td>
    </tr>
    <tr>
      <td style="text-align: left">Coke</td>
      <td style="text-align: right">$2.50</td>
    </tr>
    <tr>
      <td style="text-align: left">Ramblin_Reck_Toy</td>
      <td style="text-align: right">$180.75</td>
    </tr>
    <tr>
      <td style="text-align: left">Rubiks_Cube</td>
      <td style="text-align: right">$30.00</td>
    </tr>
    <tr>
      <td style="text-align: left">Rat_Cap</td>
      <td style="text-align: right">$15.00</td>
    </tr>
    <tr>
      <td style="text-align: left">FASET_Lanyard</td>
      <td style="text-align: right">$10.00</td>
    </tr>
    <tr>
      <td style="text-align: left">Graphing_Calculator</td>
      <td style="text-align: right">$120.00</td>
    </tr>
    <tr>
      <td style="text-align: left">UGA_Diploma</td>
      <td style="text-align: right">$0.10</td>
    </tr>
    <tr>
      <td style="text-align: left">Pie</td>
      <td style="text-align: right">$3.14</td>
    </tr>
    <tr>
      <td style="text-align: left">Clicker</td>
      <td style="text-align: right">$55.55</td>
    </tr>
    <tr>
      <td style="text-align: left">Cheetos</td>
      <td style="text-align: right">$1.25</td>
    </tr>
    <tr>
      <td style="text-align: left">Sprite</td>
      <td style="text-align: right">$2.50</td>
    </tr>
    <tr>
      <td style="text-align: left">Red_Bull</td>
      <td style="text-align: right">$4.75</td>
    </tr>
    <tr>
      <td style="text-align: left">Ramen</td>
      <td style="text-align: right">$3.15</td>
    </tr>
    <tr>
      <td style="text-align: left">Cold_Pizza</td>
      <td style="text-align: right">$0.99</td>
    </tr>
  </tbody>
</table>

<p>The names of the elements in your enum should be exactly as they appear here, and the price should be a parameter to the enum constructor. Your <code class="highlighter-rouge">VendingItem</code> enum should have the following fields, methods, and constructors:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">private final double price</code>. This field is the price of an item, and should be set in the constructor.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">VendingItem(double price)</code>. This is the constructor for the enum type, and it takes the price as its single parameter. Review the links and details in the <a href="#background">Background</a> section if this confuses you.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public double getPrice()</code>. This method is just a simple getter method for the price. <code class="highlighter-rouge">price</code> is <code class="highlighter-rouge">final</code> and has no setter because it does not make sense for an object’s price to change at runtime.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public String toString()</code>. This method returns a <code class="highlighter-rouge">String</code> representation of a <code class="highlighter-rouge">VendingItem</code> for use in your simulation. The <code class="highlighter-rouge">String</code> should look like: “(name): $xx.xx” where <em>(name)</em> is the name of the <code class="highlighter-rouge">VendingItem</code> and <em>xx.xx</em> is its price.</p>
  </li>
</ul>

<h3 id="vendingmachinejava">VendingMachine.java</h3>

<p>This class represents the vending machine itself and is the bulk of the assignment. It has the following fields, methods, and constructors:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">private static double totalSales</code>. Your boss wants a way to measure the success of this venture, so this field will keep track of the total sales across vending machines. It should be initialized to 0 and properly updated every time a sale <em>that makes money</em> is made. More on this later.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">private VendingItem[][][] shelf</code>. This 3D array of <code class="highlighter-rouge">VendingItem</code>s represents how the items are arranged in the vending machine. <code class="highlighter-rouge">shelf[i][j][k]</code> represents the <code class="highlighter-rouge">VendingItem</code> located in the <em>ith</em> row, <em>jth</em> column, and <em>kth</em> position where position 0 (<code class="highlighter-rouge">shelf[i][j][0]</code>) is the item at the front of the “stack” and each subsequent position represents the item <em>behind</em> it. The shelf should be initialized to have 6 rows, 3 columns, and 5 positions per location.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">private int luckyChance</code>. To give Tech students an incentive to use the machines, you have incorpoated the chance to win a free item into the machine. This field represents the percent chance that a user has to win on the current <code class="highlighter-rouge">vend()</code> and should be initialized to 0. More details below.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">private Random rand</code>. This is an instance of the <a href="#random">Random</a> class you will be using to generate the random numbers needed in this implementation.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public VendingMachine()</code>. This is the single no-arg constructor for <code class="highlighter-rouge">VendingMachine</code>s. You should initialize your fields and call <code class="highlighter-rouge">restock()</code> here so that your vending machine is ready to use as soon as someone initializes it.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public VendingItem vend(String code)</code>. This method is used to dispense an item from the vending machine. It takes in a parameter <code class="highlighter-rouge">code</code> representing the user’s input. This code will be formatted as a letter followed by a number (A6), which represents the the row and column of the selected item. You must dispense the item from the proper row and column and move the items behind it so that there is always (if possible) an item in the 0 position. This method should also take care of checking the <code class="highlighter-rouge">code</code> for validity before dispensing anything and should print an error statement and return <code class="highlighter-rouge">null</code> if something goes wrong. It should also print an error statement and return <code class="highlighter-rouge">null</code> if there is no item in the position that the user selected. If it is determined by the <code class="highlighter-rouge">free()</code> method that the item being dispensed is free for the user, this method should print a statement notifying the user as such. Finally, this method should  update the <code class="highlighter-rouge">totalSales</code> field as needed. Be careful not to update <code class="highlighter-rouge">totalSales</code> if the item was free or if something went wrong.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">private boolean free()</code>. This private helper method should be used in conjuntion with <code class="highlighter-rouge">vend()</code> to determine if the current user should recieve their item for free. This method should have a percent chance equal to <code class="highlighter-rouge">luckyChance</code> of returning <code class="highlighter-rouge">true</code> (use <code class="highlighter-rouge">rand</code>). If the method returns true, <code class="highlighter-rouge">luckyChance</code> should be reset to 0. However, if the method returns false, <code class="highlighter-rouge">luckyChance</code> should be incremented by 1, giving the next user a 1% higher probability of winning a free item.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public void restock()</code>. This method should fill each spot in the vending machine with a randomly chosen item every time it is called. <strong>HINT:</strong> Make use of <code class="highlighter-rouge">rand</code> and the <code class="highlighter-rouge">values()</code> method of <code class="highlighter-rouge">Enum</code> to achieve this functionality. More info <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html">here.</a></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public static double getTotalSales()</code>. This method is a getter for the <code class="highlighter-rouge">totalSales</code> field. It is <code class="highlighter-rouge">static</code> because <code class="highlighter-rouge">totalSales</code> is a <code class="highlighter-rouge">static</code> variable and keeps track of sales across all vending machines.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public int getNumberOfItems()</code>. This method should return the total number of <code class="highlighter-rouge">VendingItem</code>s in the vending machine. <strong>NOTE:</strong> Although the method is named <code class="highlighter-rouge">get...()</code>, it is not a getter method and requires some logic.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public double getTotalValue()</code>. This method should return the combined total value of all the <code class="highlighter-rouge">VendingItem</code>s in the vending machine. <strong>NOTE:</strong> Although the method is named <code class="highlighter-rouge">get...()</code>, it is not a getter method and requires some logic.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public int getLuckyChance()</code>. This method should return the current value of luckyChance. <strong>NOTE:</strong> This is for testing purposes and you shouldn’t have to call this method.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">public String toString()</code>. To make it easier, this method has been provided for you below and returns a <code class="highlighter-rouge">String</code> representation of the <code class="highlighter-rouge">VendingMachine</code> for use in your simulation.</p>
  </li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public String toString() {
    StringBuilder s = new StringBuilder();
    s.append("----------------------------------------------------------"
        + "------------\n");
    s.append("                            VendaTron 9000                "
        + "            \n");
    for (int i = 0; i &lt; shelf.length; i++) {
        s.append("------------------------------------------------------"
            + "----------------\n");
        for (int j = 0; j &lt; shelf[0].length; j++) {
            VendingItem item = shelf[i][j][0];
            String str = String.format("| %-20s ",
                (item == null ? "(empty)" : item.name()));
            s.append(str);
        }
        s.append("|\n");
    }
    s.append("----------------------------------------------------------"
        + "------------\n");
    s.append(String.format("There are %d items with a total "
        + "value of $%.2f.%n", getNumberOfItems(), getTotalValue()));
    s.append(String.format("Total sales across vending machines "
        + "is now: $%.2f.%n", getTotalSales()));
    return s.toString();
}
</code></pre></div></div>

<h2 id="running-and-testing">Running and Testing</h2>

<p><a href="VendingWorld.java">VendingWorld.java</a> has been provided for you. It creates several instances of <code class="highlighter-rouge">VendingMachine</code>, and allows the user to interact with them. You can run the <code class="highlighter-rouge">main</code> method to start a simulation, and test from there. The tester may not cover all cases, so be sure to write your own code to test your simulation.</p>

<h2 id="javadocs">Javadocs</h2>

<ul>
  <li>
    <p>Starting from this homework, you will need to write Javadoc comments along with checkstyling your submission.</p>

    <ul>
      <li>
        <p>Every class should have a class level Javadoc that includes <code class="highlighter-rouge">@author &lt;GT Username&gt;</code>.</p>
      </li>
      <li>
        <p>Every method should have a Javadoc explaining what the method does and includes any of the following tags if applicable.</p>

        <ul>
          <li>
            <p><code class="highlighter-rouge">@param &lt;parameter name&gt; &lt;brief description of parameter&gt;</code></p>
          </li>
          <li>
            <p><code class="highlighter-rouge">@return &lt;brief description of what is returned&gt;</code></p>
          </li>
          <li>
            <p><code class="highlighter-rouge">@throws &lt;Exception&gt; &lt;brief explanation of when the given exception is thrown&gt;</code></p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>See the <a href="http://cs1331.gatech.edu/cs1331-style-guide.html">CS 1331 Style Guide</a> section on Javadoc comments for examples as well as the provided <a href="VendingWorld.java">VendingWorld.java</a> file.</p>
  </li>
</ul>

<h2 id="checkstyle">Checkstyle</h2>

<p>As mentioned in the previous homework, you will be running a style checking program on your code. For each violation the tool finds, you will lose one point on your total grade for this assignment.</p>

<p>To make things easier for you in the beginning of the semester, the first few homeworks will have a checkstyle cap, or a maximum amount of points that can be lost to checkstyle. For <em>this homework</em>, the <strong>checkstyle cap is 25</strong>, meaning you can lose up to <strong>25</strong> points on this assignment due to style errors. As the semester goes on, this cap will increase with each homework and eventually go away. <strong>Run checkstyle early, and get in the habit of writing style compliant code the first time</strong>. Don’t wait until 5 minutes before the deadline to find out that you have 100+ violations.</p>

<ul>
  <li>
    <p>If you encounter trouble running checkstyle, check Piazza for a solution and/or ask a TA as soon as you can!</p>
  </li>
  <li>
    <p>You can run checkstyle on your code by using the jar file found <a href="http://cs1331.gatech.edu/cs1331-style-guide.html">on the course website</a> like so: <code class="highlighter-rouge">java -jar checkstyle-6.2.2.jar -a *.java</code>.</p>
  </li>
  <li>
    <p><strong>Note that the above is different from the normal method for running checkstyle.</strong>* Now, because we want you to <a href="#Javadocs">javadoc</a> your code, you must add the <code class="highlighter-rouge">-a</code> flag. To run checkstyle just for javadocs, you can use the <code class="highlighter-rouge">-j</code> flag instead.</p>
  </li>
  <li>
    <p>Javadoc errors are the same as checkstyle errors, as in each one is worth a single point and they are counted towards the checkstyle cap.</p>
  </li>
  <li>
    <p>** You will be responsible for running checkstyle on <em>ALL</em> of your code. **</p>
  </li>
  <li>
    <p>Depending on your editor, you might be able to change some settings to make it easier to write style-compliant code. See <a href="http://cs1331.gatech.edu/customization-tips.html">the customization tips page</a> (at the bottom) for more information.</p>
  </li>
</ul>

<h2 id="hints-and-tips">Hints and Tips</h2>

<p>As part of your extensive training, you have been given the secret formula for Coke for success at CS 1331 (shhh). If you’ve read this far, you’re well on your way. If anything seems confusing, read through the entire description and instructions again. As always, feel free to contact your TAs, post on Piazza, or come in for office hours. In addition, here are some tips specific to this homework:</p>

<ul>
  <li>
    <p>You can assume input will be of the correct type (i.e, we will not break your code by giving you a <code class="highlighter-rouge">String</code> instead of an <code class="highlighter-rouge">int</code>), but not necessarily the correct values (i.e, if you ask for an <code class="highlighter-rouge">int</code> between 1 and 5 we might enter 9). Your code should handle these cases gracefully.</p>
  </li>
  <li>
    <p>Remember that <code class="highlighter-rouge">char</code> is actually a numeric primitive type. That means you can mix arithmetic involving <code class="highlighter-rouge">char</code>s and <code class="highlighter-rouge">int</code>s. For example:</p>
  </li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int i = 'a' - 32;
System.out.println(i);
System.out.println((char) i);

// ...outputs...
65
A
</code></pre></div></div>

<p>This <a href="https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html">ascii table</a> gives you the numeric values corresponding to each <code class="highlighter-rouge">char</code>. You can use this to very easily convert between user input and array indices for the vending machine.</p>

<h2 id="collaboration">Collaboration</h2>

<p>When completing homeworks for CS1331 you may talk with other students about:</p>

<ul>
  <li>What general strategies or algorithms you used to solve problems in the homeworks</li>
  <li>Parts of the homework you are unsure of and need more explanation</li>
  <li>Online resources that helped you find a solution</li>
  <li>Key course concepts and Java language features used in your solution</li>
</ul>

<p>You may <strong>not</strong> discuss, show, or share by other means the specifics of your code, including screenshots, file sharing, or showing someone else the code on your computer, or use code shared by others.</p>

<p>Examples of approved/disapproved collaboration:</p>

<ul>
  <li><strong>approved</strong>: “Hey, I’m really confused on how we are supposed to implement this part of the homework. What strategies/resources did you use to solve it?”</li>
  <li><strong>disapproved</strong>: “Yo it’s 10:40 on Thursday… Can I see your code? I won’t copy it directly I promise”</li>
</ul>

<p>In addition to the above rules, note that it is not allowed to upload your code to any sort of public repository. This could be considered an Honor Code violation, even if it is after the homework is due.</p>

<h2 id="submitting">Submitting</h2>

<p>You should not import any libraries or packages that trivialize the assignment. This includes data structures other than arrays (so no <code class="highlighter-rouge">List</code>, <code class="highlighter-rouge">Map</code>, <code class="highlighter-rouge">Set</code>, etc). If you are unsure of whether something is allowed, ask on Piazza. In general, if something does a large part of the assignment for you, it is probably not allowed. <strong>Important:</strong> <code class="highlighter-rouge">java.util.Arrays</code> is not allowed. However, that is different from a Java array (e.g <code class="highlighter-rouge">int[] nums = new int[10]</code>), which is necessary for this assignment. Be sure to check Piazza for clarifications and updates before submitting.</p>
<ul>
  <li>As always, late submissions will not be accepted and non-compiling code will be given a score of 0. For this reason, we recommend submitting early and then confirming that you submitted <em>ALL</em> of the necessary files by navigating to the link that the submission tool gives you.</li>
</ul>

      </div>

  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="../../../js/bootstrap.min.js"></script>
  </body>
  </html>
